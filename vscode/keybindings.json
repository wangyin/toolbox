// Place your key bindings in this file to override the defaults
[
    {
        "key": "ctrl+h",
        "command": "workbench.action.focusLeftGroup",
        "when": "editorTextFocus && vim.active && vim.mode != 'Insert'"
    },
    {
        "key": "ctrl+l",
        "command": "workbench.action.focusRightGroup",
        "when": "editorTextFocus && vim.active && vim.mode != 'Insert'"
    },
    {
        "key": "ctrl+k",
        "command": "workbench.action.focusAboveGroup",
        "when": "editorTextFocus && vim.active && vim.mode != 'Insert'"
    },
    {
        "key": "ctrl+j",
        "command": "workbench.action.focusBelowGroup",
        "when": "editorTextFocus && vim.active && vim.mode != 'Insert'"
    },
    {
        "key": "ctrl+h",
        "command": "list.collapse",
        "when": "listFocus && !inputFocus"
    },
    {
        "key": "ctrl+l",
        "command": "list.expand",
        "when": "listFocus && !inputFocus"
    },
    {
        "key": "ctrl+k",
        "command": "list.focusUp",
        "when": "listFocus && !inputFocus"
    },
    {
        "key": "ctrl+j",
        "command": "list.focusDown",
        "when": "listFocus && !inputFocus"
    },
    {
        "key": "cmd+enter",
        "command": "renameFile",
        "when": "explorerViewletVisible && filesExplorerFocus"
    },
    {
        "key": "enter",
        "command": "-renameFile",
        "when": "explorerViewletVisible && filesExplorerFocus"
    },
    {
        "key": "enter",
        "command": "list.select",
        "when": "listFocus && !inputFocus"
    },
    // {
    //     "key": "enter",
    //     "command": "filesExplorer.openFilePreserveFocus",
    //     "when": "explorerViewletVisible && filesExplorerFocus && !explorerResourceIsFolder && !inputFocus"
    // },
    {
        "key": "enter",
        "command": "search.focus.nextInputBox",
        "when": "hasSearchResult && inputBoxFocus"
    },
    {
        "key": "ctrl+shift+h",
        "command": "workbench.action.focusLeftGroup"
    },
    {
        "key": "ctrl+shift+l",
        "command": "workbench.action.focusRightGroup"
    },
    {
        "key": "ctrl+shift+a",
        "command": "workbench.action.toggleActivityBarVisibility"
    },
    {
        "key": "ctrl+shift+b",
        "command": "workbench.action.toggleStatusbarVisibility"
    },
    {
        "key": "ctrl+h",
        "command": "workbench.action.navigateLeft"
    },
    {
        "key": "ctrl+l",
        "command": "workbench.action.navigateRight"
    },
    {
        "key": "ctrl+j",
        "command": "workbench.action.navigateDown",
        "when": "editorTextFocus"
    },
    {
        "key": "ctrl+k",
        "command": "workbench.action.navigateUp",
        "when": "inDebugRepl && textInputFocus"
    },
    {
        "key": "ctrl+k",
        "command": "workbench.action.navigateUp",
        "when": "terminal.active && terminalFocus"
    },
    {
        "key": "ctrl+\\",
        "command": "workbench.action.terminal.toggleTerminal"
    },
    {
        "key": "enter",
        "command": "notebook.cell.edit",
        "when": "notebookCellListFocused && notebookEditable && !inputFocus"
    },
    {
        "key": "o",
        "command": "notebook.cell.collapseCellOutput",
        "when": "notebookCellHasOutputs && notebookCellListFocused && !inputFocus && !notebookCellOutputIsCollapsed"
    },
    {
        "key": "o",
        "command": "notebook.cell.expandCellOutput",
        "when": "notebookCellHasOutputs && notebookCellListFocused && !inputFocus && notebookCellOutputIsCollapsed"
    },
    // {
    //     "key": "shift+;",
    //     "command": "workbench.action.showCommands",
    //     "when": "vim.active && vim.mode != 'Insert'"
    // },
    {
        "key": "shift+l",
        "command": "workbench.action.nextEditor",
        "when": "editorTextFocus && vim.active && vim.mode == 'Normal'"
    },
    {
        "key": "shift+h",
        "command": "workbench.action.previousEditor",
        "when": "editorTextFocus && vim.active && vim.mode == 'Normal'"
    },
    {
        "key": "shift+l",
        "command": "workbench.action.nextEditor",
        "when": "notebookEditorFocused && !inputFocus && !notebookOutputFocused"
    },
    {
        "key": "shift+h",
        "command": "workbench.action.previousEditor",
        "when": "notebookEditorFocused && !inputFocus && !notebookOutputFocused"
    },
    {
        "key": "h",
        "command": "editor.action.scrollLeftHover",
        "when": "editorHoverFocused"
    },
    {
        "key": "j",
        "command": "editor.action.scrollDownHover",
        "when": "editorHoverFocused"
    },
    {
        "key": "k",
        "command": "editor.action.scrollUpHover",
        "when": "editorHoverFocused"
    },
    {
        "key": "l",
        "command": "editor.action.scrollRightHover",
        "when": "editorHoverFocused"
    },
    {
        "key": "space e",
        "command": "workbench.action.toggleSidebarVisibility",
        "when": "!editorTextFocused && !inputFocus"
    },
    {
        "key": "space f w",
        "command": "workbench.view.search",
        "when": "!editorTextFocused && !inputFocus"
    },
    {
        "key": "space f f",
        "command": "workbench.action.quickOpen",
        "when": "!editorTextFocused && !inputFocus"
    },
    {
        "key": "space f c",
        "command": "workbench.action.showCommands",
        "when": "!editorTextFocused && !inputFocus"
    },
    {
        "key": "space g q",
        "command": "workbench.action.closeEditorsInGroup",
        "when": "!editorTextFocused && !inputFocus"
    },
    {
        "key": "ctrl+d",
        "command": "cursorMove",
        "args": {
            "to": "down",
            "by": "line",
            "value": 36
        },
    },
    {
        "key": "ctrl+u",
        "command": "cursorMove",
        "args": {
            "to": "up",
            "by": "line",
            "value": 36
        },
    },
    // --- 资源管理器中对文件或目录的操作
    // 新建文件
    {
        "key": "a",
        "command": "explorer.newFile",
        "when": " explorerViewletVisible && filesExplorerFocus && !explorerResourceIsRoot && !explorerResourceReadonly && !inputFocus "
    },
    // 新建目录
    {
        "key": "shift+a",
        "command": "explorer.newFolder",
        "when": " explorerViewletVisible && filesExplorerFocus && !explorerResourceIsRoot && !explorerResourceReadonly && !inputFocus "
    },
    // 刷新资源管理器
    {
        "key": "shift+r",
        "command": "workbench.files.action.refreshFilesExplorer",
        "when": " explorerViewletVisible && filesExplorerFocus && !explorerResourceIsRoot && !explorerResourceReadonly && !inputFocus "
    },
    // 重命名文件或目录
    {
        "key": "r",
        "command": "renameFile",
        "when": " explorerViewletVisible && filesExplorerFocus && !explorerResourceIsRoot && !explorerResourceReadonly && !inputFocus "
    },
    // 删除文件或目录
    {
        "key": "d",
        "command": "deleteFile",
        "when": " explorerViewletVisible && filesExplorerFocus && !explorerResourceIsRoot && !explorerResourceReadonly && !inputFocus "
    },
    // 剪切文件或目录
    {
        "key": "x",
        "command": "filesExplorer.cut",
        "when": "explorerViewletVisible && filesExplorerFocus && !explorerResourceIsRoot && !explorerResourceReadonly && !inputFocus"
    },
    // 复制文件或目录
    {
        "key": "y",
        "command": "filesExplorer.copy",
        "when": "explorerViewletVisible && filesExplorerFocus && !explorerResourceIsRoot && !inputFocus"
    },
    // 粘贴文件或目录
    {
        "key": "p",
        "command": "filesExplorer.paste",
        "when": "explorerViewletVisible && filesExplorerFocus && !explorerResourceReadonly && !inputFocus"
    },
    {
        "key": "/",
        "command": "list.find",
        "when": "listFocus && listSupportsFind && !inputFocus"
    },
    // vim terminal
    {
        "key": "ctrl+shift+j",
        "command": "workbench.action.terminal.focusNext",
        "when": "terminalFocus && terminalHasBeenCreated && !terminalEditorFocus || terminalFocus && terminalProcessSupported && !terminalEditorFocus"
    },
    {
        "key": "ctrl+shift+k",
        "command": "workbench.action.terminal.focusPrevious",
        "when": "terminalFocus && terminalHasBeenCreated && !terminalEditorFocus || terminalFocus && terminalProcessSupported && !terminalEditorFocus"
    },
    {
        "key": "ctrl+n",
        "command": "workbench.action.terminal.scrollDown",
        "when": "terminalFocus"
    },
    {
        "key": "ctrl+p",
        "command": "workbench.action.terminal.scrollUp",
        "when": "terminalFocus"
    },
    {
        "key": "ctrl+shift+\\",
        "command": "workbench.action.terminal.new",
        "when": "terminalProcessSupported || terminalWebExtensionContributedProfile"
    },
    { // maxmize terminal
        "key": "ctrl+shift+m",
        "command": "workbench.action.toggleMaximizedPanel",
        "when": "terminalFocus"
    },
    {
        "key": "ctrl+f5",
        "command": "extension.multiCommand.execute",
        "when": "editorTextFocus && editorLangId == 'python'",
        "args": {
            "sequence": [
                "workbench.action.files.saveAll",
                {
                    "command": "workbench.action.terminal.sendSequence",
                    "args": {
                        "text": "clear \u000D"
                    }
                },
                "workbench.action.terminal.focus",
                {
                    "command": "workbench.action.terminal.sendSequence",
                    "args": {
                        "text": "python '${file}'\u000D"
                    }
                },
                "workbench.action.focusActiveEditorGroup"
            ]
        }
    },
    {
        "key": "ctrl+f5",
        "command": "extension.multiCommand.execute",
        "when": "editorTextFocus && editorLangId == 'cpp'",
        "args": {
            "sequence": [
                "workbench.action.files.saveAll",
                {
                    "command": "workbench.action.terminal.sendSequence",
                    "args": {
                        "text": "clear \u000D"
                    }
                },
                "workbench.action.terminal.focus",
                {
                    "command": "workbench.action.terminal.sendSequence",
                    "args": {
                        "text": "./run.ps1 ${file} \u000D"
                    }
                },
                "workbench.action.focusActiveEditorGroup"
            ]
        }
    },
    {
        "key": "ctrl+f5",
        "command": "extension.multiCommand.execute",
        "when": "editorTextFocus && editorLangId == 'lua'",
        "args": {
            "sequence": [
                "workbench.action.files.saveAll",
                {
                    "command": "workbench.action.terminal.sendSequence",
                    "args": {
                        "text": "clear \u000D"
                    }
                },
                "workbench.action.terminal.focus",
                {
                    "command": "workbench.action.terminal.sendSequence",
                    "args": {
                        "text": "lua '${file}'\u000D"
                    }
                },
                "workbench.action.focusActiveEditorGroup"
            ]
        }
    },
]